# Singleton实现细节
- 不同于一般的Singleton,采用模板来实现
- 防止多线程环境下创建多个线程，使用 pthread_once 来进行初始化，保证只有一个线程完成对单例的初始化。（此外还可以用互斥锁来保护，但是效率比较低，因为仅有初始化时互斥锁才有意义）
- 使用 atexit() 函数来注册销毁函数，这样设计的缺陷是该单例变量会在程序运行的整个期间存在
- 注意到这种设计方式使用的对象必须具备无参构造函数（因为init中调用的是无参），一开始想用便餐模板来解决这个问题，即将init变为变参模板，但是init的参数需要由intance来传递，那么instance也需要为变参模板，但是pthread_once参数是系统调用，其函数接口已经固定，无法利用std::bind来传递初始函数。所以尝试失败。因此该类有待改进。。。